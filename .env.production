# USDT Arbitrage Bot - Production Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=arbitrage_bot
DB_USER=arbitrage_user
DB_PASSWORD=your_secure_password_here

# ============================================
# EXCHANGE API CREDENTIALS
# ============================================

# ZebPay API (https://zebpay.com/api)
ZEBPAY_API_KEY=your_zebpay_api_key_here
ZEBPAY_API_SECRET=your_zebpay_api_secret_here

# Binance API (https://www.binance.com/en/my/settings/api-management)
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_api_secret_here

# CoinDCX API (https://coindcx.com/api-dashboard)
COINDCX_API_KEY=your_coindcx_api_key_here
COINDCX_API_SECRET=your_coindcx_api_secret_here

# ============================================
# TELEGRAM CONFIGURATION
# ============================================
# Create bot with @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
# Get your chat ID by messaging the bot and checking:
# https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Mobile access PIN (change from default!)
MOBILE_PIN=your_secure_pin_here_not_1234

# JWT Secret for API authentication (generate a long random string)
# Generate with: openssl rand -base64 32
JWT_SECRET=your_long_random_jwt_secret_here_at_least_32_chars

# API rate limiting
API_RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds
API_RATE_LIMIT_MAX=100       # Max requests per window

# ============================================
# TRADING CONFIGURATION
# ============================================
# Minimum profit threshold in INR
MIN_PROFIT_THRESHOLD=200

# Minimum ROI percentage
MIN_ROI=2.0

# Maximum amount per trade in USDT
MAX_TRADE_AMOUNT=100

# Daily trading limit in INR
DAILY_LIMIT=50000

# Enable automated trading (start with false!)
ENABLE_AUTO_TRADING=false

# Trading safety checks
REQUIRE_CONFIRMATION=true
CHECK_PRICE_DEVIATION=true
MAX_PRICE_DEVIATION=0.02  # 2%

# ============================================
# RISK MANAGEMENT
# ============================================
# Initial capital in INR
INITIAL_CAPITAL=10000

# Maximum exposure percentage
MAX_EXPOSURE_PERCENT=50

# Maximum position size percentage
MAX_POSITION_SIZE_PERCENT=10

# Maximum daily loss percentage
MAX_DAILY_LOSS_PERCENT=5

# Maximum consecutive losses before stopping
MAX_CONSECUTIVE_LOSSES=3

# Risk per trade percentage
RISK_PER_TRADE=2.0

# ============================================
# MONITORING & ALERTS
# ============================================
# Alert thresholds
ALERT_MIN_PROFIT=500         # Alert for opportunities > ₹500
ALERT_MAX_LOSS=-1000        # Alert if daily loss > ₹1000  
ALERT_LOW_BALANCE=5000      # Alert if balance < ₹5000

# Health check intervals (ms)
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
STALE_DATA_THRESHOLD=60000   # 1 minute

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
# WebSocket reconnection settings
WS_MAX_RETRIES=5
WS_RETRY_DELAY=1000         # Initial retry delay in ms
WS_RECONNECT_BACKOFF=1.5    # Exponential backoff multiplier
WS_MAX_RECONNECT_DELAY=60000 # Max delay between retries
WS_HEARTBEAT_INTERVAL=30000  # 30 seconds

# ============================================
# PERFORMANCE TUNING
# ============================================
# Process configuration
NODE_ENV=production
NODE_OPTIONS="--max-old-space-size=2048"

# API timeouts (ms)
API_TIMEOUT=10000           # 10 seconds
ORDER_COMPLETION_TIMEOUT=60000  # 1 minute

# Cache settings
ENABLE_REDIS_CACHE=false
REDIS_URL=redis://localhost:6379
CACHE_TTL=5                 # Cache TTL in seconds

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info              # debug, info, warn, error
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10485760       # 10MB
LOG_MAX_FILES=10
LOG_COMPRESS=true

# ============================================
# SERVER CONFIGURATION
# ============================================
# API Server
API_PORT=3000
API_HOST=0.0.0.0

# Mobile Server
MOBILE_PORT=3333
MOBILE_HOST=0.0.0.0

# Dashboard Server
DASHBOARD_PORT=3001
DASHBOARD_HOST=0.0.0.0

# ============================================
# EXCHANGE-SPECIFIC SETTINGS
# ============================================
# ZebPay
ZEBPAY_MIN_ORDER_VALUE=100   # Minimum order in INR
ZEBPAY_FEE_RATE=0.0025      # 0.25%

# Binance P2P
BINANCE_P2P_PAYMENT_WINDOW=900  # 15 minutes in seconds
BINANCE_TDS_RATE=0.01           # 1% TDS on sell

# CoinDCX
COINDCX_ENABLED=false       # Disabled due to withdrawal issues

# ============================================
# BACKUP & MAINTENANCE
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# Database maintenance
DB_VACUUM_SCHEDULE="0 3 * * 0"  # Weekly on Sunday at 3 AM

# ============================================
# OPTIONAL INTEGRATIONS
# ============================================
# Sentry error tracking (optional)
SENTRY_DSN=

# Datadog monitoring (optional)
DATADOG_API_KEY=
DATADOG_APP_KEY=

# Slack notifications (optional)
SLACK_WEBHOOK_URL=

# ============================================
# DEVELOPMENT/DEBUG (set to false in production)
# ============================================
DEBUG=false
SIMULATE_TRADES=true        # Start with true, set false when ready
PRICE_VALIDATION_ENABLED=true
VERBOSE_LOGGING=false